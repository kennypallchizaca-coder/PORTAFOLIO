import{u as j,r,j as e}from"./index-PCUP740G.js";import{g,e as N}from"./firestore-BuJMh8la.js";const f={headline:"",about:"",skills:"",tags:"",theme:"light"},k=()=>{const{user:l}=j(),[s,o]=r.useState(f),[c,d]=r.useState(!1),[m,u]=r.useState(""),[h,n]=r.useState("");r.useEffect(()=>{(async()=>{if(!l?.uid)return;const a=await g(l.uid);a&&o({headline:a.headline||"",about:a.about||"",skills:a.skills?.join(", ")||"",tags:a.tags?.join(", ")||"",theme:a.theme||"light"})})()},[l?.uid]);const t=i=>{const{name:a,value:b}=i.target;o(p=>({...p,[a]:b}))},x=async i=>{if(i.preventDefault(),!l?.uid){n("Usuario no autenticado");return}d(!0),u(""),n("");try{await N(l.uid,{headline:s.headline,about:s.about,skills:s.skills.split(",").map(a=>a.trim()).filter(Boolean),tags:s.tags.split(",").map(a=>a.trim()).filter(Boolean),theme:s.theme}),u("Portafolio guardado.")}catch{n("No se pudo guardar. Revisa conexión.")}finally{d(!1)}};return e.jsxs("div",{className:"max-w-3xl space-y-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Mi portafolio"}),e.jsx("form",{onSubmit:x,className:"card bg-base-100 shadow-md",children:e.jsxs("div",{className:"card-body space-y-3",children:[m&&e.jsx("div",{className:"alert alert-success text-sm",children:m}),h&&e.jsx("div",{className:"alert alert-error text-sm",children:h}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Headline *"})}),e.jsx("input",{name:"headline",value:s.headline,onChange:t,className:"input input-bordered",required:!0})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Sobre mí"})}),e.jsx("textarea",{name:"about",value:s.about,onChange:t,className:"textarea textarea-bordered",rows:3})]}),e.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Skills (coma)"})}),e.jsx("input",{name:"skills",value:s.skills,onChange:t,className:"input input-bordered",placeholder:"React, Firebase, Tailwind"})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Tags (coma)"})}),e.jsx("input",{name:"tags",value:s.tags,onChange:t,className:"input input-bordered",placeholder:"Frontend, Fullstack"})]})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Tema DaisyUI"})}),e.jsxs("select",{name:"theme",value:s.theme,onChange:t,className:"select select-bordered",children:[e.jsx("option",{value:"light",children:"Claro"}),e.jsx("option",{value:"dark",children:"Oscuro"}),e.jsx("option",{value:"emerald",children:"Emerald"})]})]}),e.jsx("div",{className:"card-actions justify-end",children:e.jsx("button",{className:"btn btn-primary",type:"submit",disabled:c,children:c?"Guardando...":"Guardar portafolio"})})]})})]})};export{k as default};
